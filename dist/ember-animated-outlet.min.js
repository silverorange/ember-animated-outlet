Ember.AnimatedContainerView=Ember.ContainerView.extend({classNames:["ember-animated-container"],init:function(){this._super(),Ember.AnimatedContainerView._views[this.get("name")]=this,this._isAnimating=!1},willDestroy:function(){this._super();var a=this.get("name");delete Ember.AnimatedContainerView._views[a],delete Ember.AnimatedContainerView._animationQueue[a]},_currentViewWillChange:Ember.beforeObserver(function(){var a=Ember.get(this,"currentView");a&&this.set("oldView",a)},"currentView"),_currentViewDidChange:Ember.observer(function(){var a=Ember.get(this,"currentView"),b=Ember.get(this,"oldView"),c=this.get("name"),d=null;a&&(b&&(Ember.assert("Ember.AnimatedContainerView can only animate non-virtual views. You need to explicitly define your view class.",!b.isVirtual),Ember.assert("Ember.AnimatedContainerView can only animate non-virtual views. You need to explicitly define your view class.",!a.isVirtual),d=Ember.AnimatedContainerView._animationQueue[c],delete Ember.AnimatedContainerView._animationQueue[c],d&&!Ember.AnimatedContainerView._effects[d]&&(Ember.warn("Unknown animation effect: "+d),d=null),this.set("oldView",null)),this._queuedAnimation&&(b.destroy(),b=this._queuedAnimation.oldView),this._queuedAnimation={newView:a,oldView:b,effect:d},this._handleAnimationQueue())},"currentView"),_handleAnimationQueue:function(){if(!this._isAnimating){var a=this,b=this._queuedAnimation;if(b){var c=b.newView,d=b.oldView,e=b.effect;this._queuedAnimation=null,this.pushObject(c),d&&e?(this._isAnimating=!0,c.on("didInsertElement",function(){Ember.AnimatedContainerView._effects[e](a,c,d,function(){Em.run(function(){a.removeObject(d),d.destroy(),a._isAnimating=!1,a._handleAnimationQueue()})})})):d&&(this.removeObject(d),d.destroy())}}},enqueueAnimation:function(a){Ember.AnimatedContainerView._animationQueue[this.get("name")]=a},setCurrentViewAnimated:function(a,b){this.enqueueAnimation(b),this.set("currentView",a)}}),Ember.AnimatedContainerView.reopenClass({_views:{},_animationQueue:{},enqueueAnimations:function(a){for(var b in a)a.hasOwnProperty(b)&&(this._animationQueue[b]=a[b])},_effects:{},registerEffect:function(a,b){this._effects[a]=b}}),Handlebars.registerHelper("animatedOutlet",function(a,b){var c;for(a&&a.data&&a.data.isRenderData&&(b=a,a="main"),c=b.data.view;!c.get("template.isTop");)c=c.get("_parentView");return b.data.view.set("outletSource",c),b.hash.currentViewBinding="_view.outletSource._outlets."+a,Ember.Handlebars.helpers.view.call(this,Ember.AnimatedContainerView,b)});var get=Ember.get,set=Ember.set;Ember.onLoad("Ember.Handlebars",function(){function a(a,b){return a.hasRoute(b)||(b+=".index"),b}function b(a){var b=a.options.types.slice(1),c=a.options.data;return d(a.context,a.params,{types:b,data:c})}function c(c,d,e){var f,g=e||c.namedRoute;f=a(d,g),Ember.assert("The route "+g+" was not found",d.hasRoute(f));var h=[f];return animations=c.parameters.animations,h.concat(animations,b(c.parameters))}var d=Ember.Router.resolveParams,e=Ember.ViewUtils.isSimpleClick,f=Ember.AnimatedLinkView=Ember.LinkView.extend({click:function(a){if(!e(a))return!0;a.preventDefault(),this.bubbles===!1&&a.stopPropagation();var b=this.get("router"),d=this.get("container").lookup("route:"+this.get("namedRoute"));this.get("replace")?d.replaceWithAnimated.apply(b,c(this,b)):d.transitionToAnimated.apply(b,c(this,b))}});f.toString=function(){return"AnimatedLinkView"},Ember.Handlebars.registerHelper("linkToAnimated",function(a){var b=[].slice.call(arguments,-1)[0],c=[].slice.call(arguments,1,-1),d=b.hash;Ember.assert("linkToAnimated must contain animations","string"==typeof d.animations);for(var e=/\s*([a-z]+)\s*:\s*([a-z]+)/gi,g={};match=e.exec(d.animations);)g[match[1]]=match[2];return delete d.animations,d.namedRoute=a,d.currentWhen=d.currentWhen||a,d.parameters={context:this,options:b,animations:g,params:c},Ember.Handlebars.helpers.view.call(this,f,b)})}),Ember.Route.reopen({transitionToAnimated:function(a,b){return Ember.AnimatedContainerView.enqueueAnimations(b),Array.prototype.splice.call(arguments,1,1),this.transitionTo.apply(this,arguments)},replaceWithAnimated:function(a,b){return Ember.AnimatedContainerView.enqueueAnimations(b),Array.prototype.splice.call(arguments,1,1),this.replaceWith.apply(this,arguments)}}),Ember.ControllerMixin.reopen({transitionToRouteAnimated:function(a,b){return Ember.AnimatedContainerView.enqueueAnimations(b),Array.prototype.splice.call(arguments,1,1),this.transitionToRoute.apply(this,arguments)},replaceRouteAnimated:function(a,b){return Ember.AnimatedContainerView.enqueueAnimations(b),Array.prototype.splice.call(arguments,1,1),this.replaceRoute.apply(this,arguments)}}),Ember.AnimatedContainerView.registerEffect("fade",function(a,b,c,d){var e=b.$(),f=c.$();e.addClass("ember-animated-container-fade-new"),f.addClass("ember-animated-container-fade-old"),setTimeout(function(){f.addClass("ember-animated-container-fade-old-fading"),setTimeout(function(){e.removeClass("ember-animated-container-fade-new"),d()},550)},0)}),Ember.AnimatedContainerView.registerEffect("flip",function(a,b,c,d){var e=a.$(),f=b.$(),g=c.$();e.wrap('<div class="ember-animated-container-flip-wrap"></div>'),e.addClass("ember-animated-container-flip-ct"),f.addClass("ember-animated-container-flip-new"),g.addClass("ember-animated-container-flip-old"),setTimeout(function(){e.addClass("ember-animated-container-flip-ct-flipping"),setTimeout(function(){e.unwrap(),e.removeClass("ember-animated-container-flip-ct"),e.removeClass("ember-animated-container-flip-ct-flipping"),f.removeClass("ember-animated-container-flip-new"),d()},650)},0)}),function(){var a=function(a,b,c,d,e,f){var g=a.$(),h=b.$(),i=f?2050:450;g.addClass("ember-animated-container-slide-"+e+"-ct"),f&&g.addClass("ember-animated-container-slide-slow-ct"),h.addClass("ember-animated-container-slide-"+e+"-new"),setTimeout(function(){g.addClass("ember-animated-container-slide-"+e+"-ct-sliding"),setTimeout(function(){g.removeClass("ember-animated-container-slide-"+e+"-ct"),f&&g.removeClass("ember-animated-container-slide-slow-ct"),g.removeClass("ember-animated-container-slide-"+e+"-ct-sliding"),h.removeClass("ember-animated-container-slide-"+e+"-new"),d()},i)},0)};Ember.AnimatedContainerView.registerEffect("slideLeft",function(b,c,d,e){a(b,c,d,e,"left",!1)}),Ember.AnimatedContainerView.registerEffect("slideRight",function(b,c,d,e){a(b,c,d,e,"right",!1)}),Ember.AnimatedContainerView.registerEffect("slideUp",function(b,c,d,e){a(b,c,d,e,"up",!1)}),Ember.AnimatedContainerView.registerEffect("slideDown",function(b,c,d,e){a(b,c,d,e,"down",!1)}),Ember.AnimatedContainerView.registerEffect("slowSlideLeft",function(b,c,d,e){a(b,c,d,e,"left",!0)}),Ember.AnimatedContainerView.registerEffect("slowSlideRight",function(b,c,d,e){a(b,c,d,e,"right",!0)}),Ember.AnimatedContainerView.registerEffect("slowSlideUp",function(b,c,d,e){a(b,c,d,e,"up",!1)}),Ember.AnimatedContainerView.registerEffect("slowSlideDown",function(b,c,d,e){a(b,c,d,e,"down",!1)})}(),function(){var a=function(a,b,c,d,e){var f=a.$(),g=b.$(),h=450;f.addClass("ember-animated-container-slideOver-old"),setTimeout(function(){g.addClass("ember-animated-container-slideOver-"+e+"-new"),g.addClass("ember-animated-container-slideOver-"+e+"-new-sliding"),setTimeout(function(){g.removeClass("ember-animated-container-slideOver-"+e+"-new"),g.removeClass("ember-animated-container-slideOver-"+e+"-new-sliding"),f.removeClass("ember-animated-container-slideOver-old"),d()},h)},0)};Ember.AnimatedContainerView.registerEffect("slideOverLeft",function(b,c,d,e){a(b,c,d,e,"left")}),Ember.AnimatedContainerView.registerEffect("slideOverRight",function(b,c,d,e){a(b,c,d,e,"right")}),Ember.AnimatedContainerView.registerEffect("slideOverUp",function(b,c,d,e){a(b,c,d,e,"up")}),Ember.AnimatedContainerView.registerEffect("slideOverDown",function(b,c,d,e){a(b,c,d,e,"down")})}();